%h1
  %i.icon-cog
  Settings

%section
  %h3
    %i.glyphicon.glyphicon-align-center
    Header and footer

  %table.table.table-striped
    %tbody
      - [:title,:brand,:logo_url].each do |attr|
        %tr
          %td.limit250
            = attr.to_s.capitalize.split("_").join(" ")
          %td.limit700
            = @settings.send(attr)
          %td
            = link_to edit_app_admin_setting_path(attr), class: "btn btn-warning btn-xs" do
              %i.fa.fa-pencil
              Edit

%section
  %h3 
    %i.glyphicon.glyphicon-align-justify
    Welcome

  %table.table.table-striped
    %tbody
      - [:welcome_title,:welcome_subtitle].each do |attr|
        %tr
          %td.limit250
            = attr.to_s.capitalize.split("_").join(" ")
          %td.limit700
            = @settings.send(attr)
          %td
            = link_to edit_app_admin_setting_path(attr), class: "btn btn-warning btn-xs" do
              %i.fa.fa-pencil
              Edit
      %tr
        %td.limit250 Footer links
        %td.limit700
          = @settings.footer_links.to_yaml.gsub(/\n/, "<br>").html_safe
        %td
          = link_to edit_app_admin_setting_path("footer_links"), class: "btn btn-warning btn-xs" do
            %i.fa.fa-pencil
            Edit

%section
  %h3 
    %i.glyphicon.glyphicon-globe
    Other / Urls

  %table.table.table-striped
    %tbody
      - [:support_url].each do |attr|
        %tr
          %td.limit250
            = attr.to_s.capitalize.split("_").join(" ")
          %td.limit700
            = @settings.send(attr)
          %td
            = link_to edit_app_admin_setting_path(attr), class: "btn btn-warning btn-xs" do
              %i.fa.fa-pencil
              Edit

%section
  %h3 Displayed MetaContexts

  %p
    Configure the second and third MetaContext to be displayed, e.g. in a list view. 
    The first displayed MetaContext is always set to 
    %b core.
  %p
    Only 
    %b existing 
    MetaContext names can be submitted here!

  %table.table.table-striped
    %tbody
      - %w{second third}.each do |context|
        %tr
          %td.limit250 Name of the #{context} displayed MetaContext
          %td.limit700
            = @settings.send("#{context}_displayed_meta_context_name")
          %td
            = link_to edit_app_admin_setting_path("#{context}_displayed_meta_context_name"), class: "btn btn-warning btn-xs" do
              %i.fa.fa-pencil
              Edit

%section
  %h3 
    %i.glyphicon.glyphicon-download-alt
    Dropbox

  %table.table.table-striped
    - [:dropbox_root_dir,:ftp_dropbox_server,:ftp_dropbox_user,:ftp_dropbox_password].each do |attr|
      %tr
        %td.limit250
          = attr.to_s.capitalize.split("_").join(" ")
        %td.limit700
          = @settings.send(attr)
        %td
          = link_to edit_app_admin_setting_path(attr), class: "btn btn-warning btn-xs" do
            %i.fa.fa-pencil
            Edit

/ --------------------------------

= form_tag app_admin_settings_path, method: "PUT", class: "form-horizontal settings", role: "form" do

  %fieldset.well

    %h3 
      %i.glyphicon.glyphicon-folder-close
      Sets 

    - [:featured_set_id,:splashscreen_slideshow_set_id,:catalog_set_id].each do |attr|
      %p
        = link_to app_admin_media_set_path(@settings.send(attr)), class: "btn btn-info" do
          %i.fa.fa-eye
          #{attr.to_s.humanize} Details
